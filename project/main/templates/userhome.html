{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <script src="https://kit.fontawesome.com/a59b9b09ab.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
  <!-- <nav class="navbar navbar-expand-lg navbar-dark  fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#"><img src="images/12.png" class="rounded-circle" alt="" width="80px"
                height="60px"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#home">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link b-lg-3" href="#about">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link b-lg-3" href="#services">Services</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link b-lg-3" href="#portfolio">Portfolio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link b-lg-3" href="#contact">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav> -->


    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#home"><img src="{% static 'images/slide-1.jpg' %}" alt="" width="45px" height="40px" style="border-radius: 50%;" >
            <span >COU</span>RSES
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="{% url 'userhome' %}">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#about">About us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#services">Services</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#Courses">Courses</a>
              </li>
               <li class="nav-item">
                  {% if user.is_authenticated %}
                     <style>
                        /* Dropdown menu */
                        .dropdown-menu {
                            display: none; /* Hidden by default */
                            position: absolute;
                            background-color: white;
                            min-width: 160px;
                            border: 1px solid #ccc;
                            border-radius: 4px;
                            z-index: 1;
                        }

                        /* Dropdown items */
                        .dropdown-item {
                            padding: 10px;
                            color: black;
                            text-decoration: none;
                            display: block;
                        }

                        /* Hover effect for dropdown items */
                        .dropdown-item:hover {
                            background-color: #f1f1f1;
                        }


                        .cover {
                            position: relative;
                            padding: 0px 30px;
                            width: 80%;
                            margin: 100px auto;
                        }

                        .left {
                            position: absolute;
                            left: 0;
                            top: 50%;
                            transform: translateY(-50%);
                        }

                        .right {
                            position: absolute;
                            right: 0;
                            top: 50%;
                            transform: translateY(-50%);
                        }

                        .scroll-images {
                            position: relative;
                            width: 100%;
                            padding: 40px 0px;
                            height: auto;
                            display: flex;
                            flex-wrap: nowrap;
                            overflow-x: hidden;
                            overflow-y: hidden;
                            scroll-behavior: smooth;
                            -webkit-overflow-scrolling: touch;
                        }

                        .child {
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            min-width: 250px;
                            height: 200px;
                            padding: 0px 15px;
                            margin: 1px 10px;
                            border: 1px solid #f1f1f1;
                            overflow: hidden;
                            -webkit-box-shadow: 0px 0px 15px 2px rgb(0 0 0 / 10%);;
                            box-shadow: 0px 0px 15px 2px rgb(0 0 0 / 10%);;
                        }

                        .child img, .child > svg {
                            position: absolute;
                            margin-top: -195px;
                            width: 80px;
                            height: 80px;
                            object-fit: cover;
                            object-position: center;
                            border-radius: 50%;
                            background: #03A9F4;
                        }

                        .scroll-images::-webkit-scrollbar {
                            width: 5px;
                            height: 8px;
                            background-color: #aaa;
                        }

                        .scroll-images::-webkit-scrollbar-thumb {
                            background-color: black;
                        }

                        button {
                            background-color: transparent;
                            border: none;
                            outline: none;
                            cursor: pointer;
                            font-size: 25px;
                        }


                    </style>

              
                    <a class="nav-link"> <button class="profile-button" onclick="toggleDropdown()" >{{ user.username }}</button></a>
                    <div class="dropdown-menu" id="dropdownMenu">
                        {% if manger %}
                            <a class="dropdown-item" href="{% url 'index' %}">Manager</a>
                        {% endif %}
                        <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
                    </div>
                </div>

                <script>
                    function toggleDropdown() {
                        const dropdownMenu = document.getElementById("dropdownMenu");
                        dropdownMenu.style.display = dropdownMenu.style.display === "block" ? "none" : "block";
                    }

                    // Close the dropdown if the user clicks outside of it
                    window.onclick = function(event) {
                        if (!event.target.matches('.profile-button')) {
                            const dropdowns = document.getElementsByClassName("dropdown-menu");
                            for (let i = 0; i < dropdowns.length; i++) {
                                const openDropdown = dropdowns[i];
                                if (openDropdown.style.display === "block") {
                                    openDropdown.style.display = "none";
                                }
                            }
                        }
                    }
                </script>
                  {% else %}
                      <a class="nav-link" href="{% url 'login' %}"><button type="button">Login</button></a>
                  {% endif %}
              </li> 
            </ul>
          </div>
        </div>
      </nav>
      <!-- ********************************************** -->
      <div id="carouselExampleCaptions" class=" carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner ">
          <div class="carousel-item active text-start">
            {% load static %}
            <img src="{% static 'images/slide-1.jpg' %}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-flex flex-column justify-content-center align-items-start text-start" style="top: 50%; transform: translateY(-50%);">
              <h5>إدارة التطوير والتدريب</h5>
              <span class="fs-5">إدارة التطوير والتدريب في الشركة  تهدف إلى تعزيز مهارات الموظفين وتحفيز الابتكار لضمان التميز في المنتجات. تتولى تحديد الاحتياجات التدريبية وتصميم برامج متخصصة لتطوير القدرات الفنية والإدارية. من مهامها تطوير المهارات القيادية، تشجيع الإبداع، وتقييم الأداء بشكل مستمر. تركز الإدارة أيضًا على تطبيق 
                معايير الجودة والسلامة وتحفيز التعلم المستمر. أهميتها تكمن في زيادة الإنتاجية، 
                تحسين جودة المنتجات، وتقليل التكاليف التشغيلية، مما يعزز قدرة الشركة التنافسية.</span>
                 <!--
                 <span><a href="#" class="btn btn-primary mt-3 btn-lg">more details</a></span>
                 -->
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/slide-2.jpg' %}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-flex flex-column justify-content-center align-items-center text-center" style="top: 50%; transform: translateY(-50%);">
              <h5>الرؤية</h5>
              <p class="fs-5">أن تكون إدارة التطوير والتدريب في شركة الحلويات مرجعًا عالميًا للابتكار والتميز في تنمية الكفاءات البشرية، وتقديم حلول تدريبية متقدمة تسهم في تحقيق ريادة الشركة على المستوى العالمي في صناعة الحلويات.
              </p>
                <!--
                <p><a href="#" class="btn btn-primary mt-3 btn-lg">more details</a></p>
                -->
                       </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div><br><br><br><br>
      <!-- **************************************** -->
      <section id="about">
        <div class="container">
        <div class="card mb-3 border-0" style="width: 100%; ">
            <div class="row g-0">
                <div class="col-md-6 border-0 ">
                     <img src="../static/images/shape1.png" class="img-fluid rounded-start" alt="..." width="100%">
                 </div>
                <div class="col-md-6 ">
                    <div class="card-body "  style="margin: 15px; text-align: right;">
                         <h5 class="card-title fw-bold fs-1" >:المهام الوظيفية لإدارة التطوير والتدريب</h5>
                        <br>
                            <span class="card-text fs-5">تحديد الاحتياجات التدريبية: تحليل الفجوات في مهارات الموظفين وتحديد الاحتياجات التدريبية لكل قسم في الشركة
                            </span><br>
                            <span class="card-text fs-5">تصميم وتنفيذ البرامج التدريبية: إعداد وتقديم برامج تدريبية متخصصة في مجالات مختلفة مثل التصنيع، التسويق، الجودة، وخدمة العملاء
                            </span><br>
                            <span class="card-text fs-5">تطوير المهارات القيادية: التركيز على تطوير مهارات القيادة والإدارة للفريق الإداري في الشركة لضمان كفاءة إدارة العمليات
                            </span><br>
                            <span class="card-text fs-5">تحفيز الابتكار والإبداع: تطوير ورش عمل ومبادرات تشجع الموظفين على التفكير الإبداعي والابتكار في تطوير منتجات جديدة تلبي احتياجات السوق
                            </span><br>
                            <span class="card-text fs-5">تقييم الأداء وتحديد خطط التطوير الشخصي: تقديم أدوات ومنهجيات لتقييم أداء الموظفين وتحديد نقاط القوة والضعف، ووضع خطط لتحسين وتطوير أداء الأفراد
                            </span><br>
                            <span class="card-text fs-5">الاطلاع على أحدث التقنيات والاتجاهات: متابعة التوجهات العالمية في صناعة الحلويات وتوفير التدريب المتعلق بتلك التقنيات، مما يعزز من تنافسية الشركة في السوق
                            </span><br>
                            <span class="card-text fs-5">توفير تدريب على الجودة والسلامة: ضمان أن جميع العاملين مدربين على معايير الجودة والسلامة الغذائية لتلبية متطلبات السوق والجهات التنظيمية
                            </span><br>
                            <span class="card-text fs-5">دعم التطوير المهني المستمر: تشجيع الموظفين على مواصلة التعليم والتعلم المستمر من خلال دورات وشهادات معترف بها دوليًا
                            </span><br>
                        <!--
                             <p class="btu3"><button type="button">Know more future</button></p>
                             -->
                     </div>
              </div>
            </div>
        </div>
        </div>
        </section>
        <!-- ****************************** -->
        <section id="services" class="services section-padding bg">
          <div class="container">
              <p class="fs-1 fw-bold text-center">:قدرة وأهمية الإدارة</p>
      <div class="row row-cols-1 row-cols-md-3 g-4">
          <div class="col ">
            <div class="card h-100 border-0">
              <div class="d-flex"> <img src="../static/images/task.png" >
                  <h5 class="card-title fs-3 fw-bold">:تعزيز الإنتاجية</h5>
              </div>
              <div class="card-body">
                  <p class="card-text fs-5">تحسين مهارات الموظفين يساهم في زيادة الإنتاجية وجودة المنتجات، مما يؤدي إلى تحسين الكفاءة التشغيلية.</p>
              </div>
            </div>
          </div>
          <div class="col ">
              <div class="card h-100 border-0">
                <div class="d-flex"><img src="../static/images/book.png" alt="" >
                    <h5 class="card-title fs-3 fw-bold">:تحقيق رضا العملاء</h5>
                    </div>
                  <div class="card-body">
                    <p class="card-text fs-5">عندما يكون الموظفون أكثر كفاءة، تكون الشركة أكثر قدرة على تقديم منتجات مبتكرة وذات جودة عالية، مما يزيد من رضا العملاء وولائهم.</p>
                </div>
              </div>
            </div>
          <div class="col ">
            <div class="card h-100 border-0">
              <div class="d-flex"><img src="../static/images/books.png" alt="">
                 <h5 class="card-title fs-3 fw-bold">:زيادة القدرة التنافسية</h5>
              </div>
              <div class="card-body">
                  <p class="card-text fs-5">التدريب المستمر للموظفين على أحدث التقنيات والتوجهات في صناعة الحلويات يجعل الشركة أكثر قدرة على المنافسة في الأسواق العالمية.</p>
              </div>
            </div>
          </div>
        </div>
          </div>
      </section>
    <!-- ************************************ -->
    {% if user.is_authenticated %}
  <section id="Courses" class="services_team section-padding bg position-relative">
    <p class="fs-1 fw-bold text-center">Courses</p>

    <div class="position-relative">
      <button class="left btn btn-primary position-absolute" onclick="leftScroll()" style="left: 20px; top: 50%; transform: translateY(-50%); z-index: 10;">
        <i class="fas fa-angle-double-left"></i>
      </button>
      <div class="scroll-images row row-cols-1 row-cols-md-3 g-4 mx-2" style="overflow-x: auto; scrollbar-width: none; -ms-overflow-style: none;">
        {% for usercourse in usercourses %}
          <div class="col">
            <div class="card h-100 border-0 shadow-sm" style="transition: transform 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='scale(1.05)';" onmouseout="this.style.transform='scale(1)';">
              <div class="card-img-wrapper" style="width: 100%; height: 70%; overflow: hidden;">
                <img id="img_team" src="{{ usercourse.course_image }}" 
                     class="card-img-top" 
                     alt="{{ usercourse.course_title }} image"
                     style="width: 100%; height: 100%; object-fit: cover;">
              </div>

              <!-- Course Title and Link -->
              <div class="card-body text-center">
                <h5 class="card-title fs-3 fw-bold">{{ usercourse.course_title }}</h5>
                <a href="{% url 'course_detail' usercourse.id %}" class="btn btn-outline-primary rounded-circle">
                  Show
                </a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>

      <!-- Right Scroll Button - Position within the Courses section -->
      <button class="right btn btn-primary position-absolute" onclick="rightScroll()" style="right: 20px; top: 50%; transform: translateY(-50%); z-index: 10;">
        <i class="fas fa-angle-double-right"></i>
      </button>
    </div>
  </section>

  <style>
    /* Hide scrollbar in WebKit browsers (Chrome/Safari) */
    .scroll-images::-webkit-scrollbar {
      display: none;
    }

    /* Hide scrollbar for other browsers (Firefox, IE/Edge) */
    .scroll-images {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
    }
  </style>
{% endif %}

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const scrollImages = document.querySelector(".scroll-images");
      const leftButton = document.querySelector(".left");
      const rightButton = document.querySelector(".right");

      // Function to check if buttons should be enabled or disabled
      function checkScroll() {
        const currentScroll = scrollImages.scrollLeft;
        const scrollLength = scrollImages.scrollWidth - scrollImages.clientWidth;
        if (currentScroll === 0) {
          leftButton.setAttribute("disabled", "true");
          rightButton.removeAttribute("disabled");
        } else if (currentScroll >= scrollLength) {
          rightButton.setAttribute("disabled", "true");
          leftButton.removeAttribute("disabled");
        } else {
          leftButton.removeAttribute("disabled");
          rightButton.removeAttribute("disabled");
        }
      }

      // Calculate the width of three cards to scroll by that amount
      function getCardWidth() {
        const card = scrollImages.querySelector('.col'); // Select a single card
        return card ? card.offsetWidth : 200; // Fallback to 200px if no cards are available
      }

      // Scroll left by three cards
      function leftScroll() {
        scrollImages.scrollBy({
          left: -3 * getCardWidth(), // Scroll by three cards width
          behavior: "smooth"
        });
      }

      // Scroll right by three cards
      function rightScroll() {
        scrollImages.scrollBy({
          left: 3 * getCardWidth(), // Scroll by three cards width
          behavior: "smooth"
        });
      }

      // Attach scroll event and resize event listeners
      scrollImages.addEventListener("scroll", checkScroll);
      window.addEventListener("resize", checkScroll);
      checkScroll();

      // Attach click events to buttons
      leftButton.addEventListener("click", leftScroll);
      rightButton.addEventListener("click", rightScroll);
    });
  </script>
  <!-- ************************************** -->
  <div id="text2" class=" text-center my-5 container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-sm-8 col-10 ">
            <h1>ONLINE <span>COURSES</span> SEARCH</h1><br>
            <h6>Get more online courses, 4 reasons why you’ll love education</h6><br>
            <form class="d-flex">
                <input type="text" class="form-control me-2" placeholder="Your Courses Name">
                <button type="button">SEARCH COURSES</button>
            </form><br><br>
        </div>
    </div>
  </div>
  <!-- ************************** -->

  <footer class="bg-light text-dark py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-3 mb-4">
                <h5 fs-1 fw-bold >Our Links</h5>
                <p fs-3>Follow us from those links</p>
                <div id="icon_text">
                    <a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer">
                        <i class="bi bi-facebook text-dark"></i>
                    </a>
                    <a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer">
                        <i class="bi bi-linkedin text-dark"></i>
                    </a>
                </div>
            </div>
                <div class="col-md-3 mb-4">
                <h5>Useful Links</h5>
                <ul class="list-unstyled">
                    <li><a id="mmmm" href="{% url 'userhome' %}" class="text-dark">Home</a></li>
                </ul>
            </div>
            <div class="col-md-3 mb-4">
              <h5>Contact Us</h5>
              <i class="bi bi-envelope-fill"></i>
              <a href="https://mail.google.com/mail/?view=cm&fs=1&to=ramy41599@gmail.com" target="_blank" style="text-decoration: none; color: inherit;">
                  <span>ramy41599@gmail.com</span>
              </a>
          </div>
          
          
        </div>
    </div>
  </footer>

     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>

     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
     <script>
$('.navbar-nav .nav-link').click(function () {
    $('.navbar-nav .nav-link').removeClass('active'); 
    $(this).addClass('active'); 

    $('.navbar-collapse').collapse('hide');
});

$(document).click(function (event) {
    var clickOver = $(event.target);
    var isNavbarOpen = $(".navbar-collapse").hasClass("show");

    if (isNavbarOpen && !clickOver.closest('.navbar').length) {
        $(".navbar-collapse").collapse('hide');
    }
});


$(window).on('scroll', function () {
    var position = $(this).scrollTop(); 
    $('section').each(function () {
        var target = $(this).offset().top - 100; 
        var id = $(this).attr('id');
        if (position >= target) {
            $('.navbar-nav .nav-link').removeClass('active');
            $('.navbar-nav .nav-link[href="#' + id + '"]').addClass('active');
        }
    });
});

     </script>
</body>
</html>